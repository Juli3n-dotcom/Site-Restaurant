$(document).ready(function(){function e(e){$.ajax({url:"Assets/Src/Allergenes/AffichageAllergenes.php",method:"post",data:{page:e},success:function(e){$("#table").html(e)}})}e(),$(document).on("click",".pagination_link",function(){e($(this).attr("id"))}),$("#add_aller").on("click",function(){$("#addmodal").modal("show")}),$("#add_aller_min").on("click",function(){$("#addmodal").modal("show")}),$("#add_allergene").on("submit",function(e){e.preventDefault(),$.ajax({type:"POST",url:"Assets/Src/Allergenes/AddAllergenes.php",data:new FormData(this),dataType:"json",contentType:!1,cache:!1,processData:!1,beforeSend:function(){$("#footer-action").hide().fadeOut(1e3),$("#load-add").removeClass("hide").fadeIn(1e3)},success:function(e){1==e.status?($("#add_allergene").trigger("reset"),$("#notif").html(e.notif),$("#addmodal").modal("hide"),$("#table").html(e.resultat),$("#load-add").addClass("hide").fadeOut(1e3),$("#footer-action").show().fadeIn(1e3)):($("#notif").html(e.notif),$("#load-add").addClass("hide").fadeOut(1e3),$("#footer-action").show().fadeIn(1e3))}})}),$("#resetBtn").on("click",function(){$("#add_allergene")[0].reset()}),$(document).on("click",".deletebtn",function(){$("#deletemodal").modal("show"),$tr=$(this).closest("tr");let e=$tr.children("td").map(function(){return $(this).text()}).get();$("#delete_id").val(e[0])}),$("#confirmedelete").on("click",function(){$(this).is(":checked")?$("#deletealler").prop("disabled",!1).removeClass("disabledBtn").addClass("deleteBtn"):$("#deletealler").prop("disabled",!0).addClass("disabledBtn").removeClass("deleteBtn")}),$("#delete_aller").on("submit",function(e){var t,a,l;e.preventDefault(),t=$("#delete_id").val(),a=$("#confirmedelete").val(),l="id="+t+"&confirmedelete="+a,$.post("Assets/Src/Allergenes/DeleteAllergenes.php",l,function(e){1==e.status?($("#delete_aller").trigger("reset"),$("#notif").html(e.notif),$("#deletemodal").modal("hide"),$("#table").html(e.resultat)):$("#notif").html(e.notif)},"json")}),$(document).on("click",".viewbtn",function(){var e=$(this).attr("id");$.ajax({url:"Assets/Src/Allergenes/ViewAllergene.php",method:"post",data:{aller_id:e},success:function(e){$("#aller_detail").html(e),$("#viewmodal").modal("show")}})}),$(document).on("click",".editbtn",function(){var e=$(this).attr("id");$.ajax({url:"Assets/Src/Allergenes/ModalUpdateAllergenes.php",method:"post",data:{aller_id:e},success:function(e){$("#update_modal").html(e),$("#editmodal").modal("show")}})}),$(document).on("submit","#update_aller",function(e){e.preventDefault(),$.ajax({type:"POST",url:"Assets/Src/Allergenes/UpdateAllergenes.php",data:new FormData(this),dataType:"json",contentType:!1,cache:!1,processData:!1,beforeSend:function(){$(".modal-footer").hide().fadeOut(1e3),$("#load-update").removeClass("hide").fadeIn(1e3)},success:function(e){1==e.status?($("#update_aller").trigger("reset"),$("#notif").html(e.notif),$("#editmodal").modal("hide"),$("#table").html(e.resultat),$("#load-update").addClass("hide").fadeOut(1e3),$(".modal-footer").show().fadeIn(1e3)):($("#notif").html(e.notif),$("#load-update").addClass("hide").fadeOut(1e3),$(".modal-footer").show().fadeIn(1e3))}})})});